[user]
	email = antoni@g.pl
	name = Antoni Rosciszewski
[branch]
    autosetupmerge = true
[color]
    branch = auto
    diff = auto
    status = auto
[color "branch"]
    current = yellow reverse
    local = yellow
    remote = green
[color "status"]
    added = yellow
    changed = green
    untracked = cyan
[color]
    ui = true
[core]
    whitespace=fix,-indent-with-non-tab,trailing-space,cr-at-eol
	excludesfile = ~/.gitignore
[alias]
    st = status --short --branch
    ct = commit
    br = branch
    co = checkout
    rb = rebase
    br = branch
    pl = pull
    pu = push
    di = diff
    cp = cherry-pick
    ad = add
    mt = mergetool
    lg = log --graph --name-status --pretty=oneline
    cl = clone
    cld = clone --depth 1
    # Rewrite previous commit usernames and emails
    # git change-commits GIT_AUTHOR_NAME "old name" "new name"
    #
    # For the last 10 commits:
    # git change-commits GIT_AUTHOR_EMAIL "old@email.com" "new@email.com" HEAD~10..HEAD
    change-commits = "!f() { VAR=$1; OLD=$2; NEW=$3; shift 3; git filter-branch -f --env-filter \"if [[ \\\"$`echo $VAR`\\\" = '$OLD' ]]; then export $VAR='$NEW'; fi\" $@; }; f "
    # Usage: git squash [n], n - number of last commits to be squashed
    squash = "!f(){ git reset --soft HEAD~${1} && git commit --edit -m\"$(git log --format=%B --reverse HEAD..HEAD@{1})\"; };f"
    # Usage:
        # $ git prevision <N> <filename>
        # will checkout the <N>th revision (counting backwards from HEAD) into the history of the file <filename>.
        #
        # For example to checkout the immediate previous version of a file x/y/z.c use
        # $ git prevision -1 x/y/z.c
    # Commit, then squash current changes with previous commmit
    squash-two = "!export MSG=`git log -1 --pretty=%B | cat` ; git add . ; git reset --soft 'HEAD^' ; git commit -m $MSG"
    prevision = "!f() { git checkout `git log --oneline $2 |  awk -v commit="$1" 'FNR == -commit+1 {print $1}'` $2;};f"
    # Reset single file to HEAD
    reset-file = "git checkout HEAD -- "
    # Force push current branch
    fp = "!git push -f origin \"$(git rev-parse --abbrev-ref HEAD)\""
    # Show changes from a particular commit
    changes = "!git diff $1^ $1"
    dontcommit = "!git checkout ."
    diffclear = "!f() { git diff $1 --color | sed -r 's/^([^-+ ]*)[-+ ]/\\1/' | less -r;};f"
    diffclear2 = "!git diff --color-words"
	grog = log --graph --abbrev-commit --decorate --all --format=format:\"%C(bold blue)%h%C(reset) - %C(bold cyan)%aD%C(dim white) - %an%C(reset) %C(bold green)(%ar)%C(reset)%C(bold yellow)%d%C(reset)%n %C(white)%s%C(reset)\"
[push]
	default = matching
; [pull]
    ; rebase = true
[merge]
    ff = only
[http]
    proxy = 
[https]
    proxy = 
